<!--pages/index/index.wxml-->
<view class="page">
  <!-- ç”¨æˆ·ä¿¡æ¯å¤´éƒ¨ -->
  <view class="header">
    <view class="user-info">
      <image class="avatar" src="{{userInfo.avatarUrl || '/images/default-avatar.png'}}" mode="aspectFill"></image>
      <view class="user-text">
        <text class="user-name">ä½ å¥½ï¼Œ{{userInfo.realName || userInfo.nickName}}</text>
        <text class="user-role">{{userInfo.userType === 'STUDENT' ? 'å­¦ç”Ÿ' : userInfo.userType}}</text>
      </view>
    </view>
  </view>

  <!-- ç»Ÿè®¡å¡ç‰‡ -->
  <view class="stats-container">
    <view class="stats-grid">
      <view class="stat-item" wx:for="{{stats}}" wx:key="title">
        <view class="stat-icon">{{item.icon}}</view>
        <view class="stat-value">{{item.value}}</view>
        <view class="stat-title">{{item.title}}</view>
      </view>
    </view>
  </view>

  <!-- æœ€è¿‘æ´»åŠ¨ -->
  <view class="card">
    <view class="card-title">æœ€è¿‘åŠ¨æ€</view>
    <view class="activities">
      <view class="activity-item" wx:for="{{activities}}" wx:key="title">
        <view class="activity-content">
          <text class="activity-title">{{item.title}}</text>
          <text class="activity-time text-secondary">{{item.time}}</text>
        </view>
        <view class="activity-status status-{{item.type}}"></view>
      </view>
    </view>
  </view>

  <!-- å¿«æ·æ“ä½œ -->
  <view class="card">
    <view class="card-title">å¿«æ·æ“ä½œ</view>
    <view class="quick-actions">
      <navigator url="/pages/courses/courses" class="action-item">
        <view class="action-icon">ğŸ“š</view>
        <text class="action-text">æŸ¥çœ‹è¯¾ç¨‹</text>
      </navigator>
      <navigator url="/pages/assignments/assignments" class="action-item">
        <view class="action-icon">ğŸ“</view>
        <text class="action-text">ä½œä¸šä¸­å¿ƒ</text>
      </navigator>
      <view class="action-item" bindtap="scanCode">
        <view class="action-icon">ğŸ“·</view>
        <text class="action-text">æ‰«ç ç­¾åˆ°</text>
      </view>
      <navigator url="/pages/profile/profile" class="action-item">
        <view class="action-icon">âš™ï¸</view>
        <text class="action-text">ä¸ªäººä¸­å¿ƒ</text>
      </navigator>
    </view>
  </view>
</view>